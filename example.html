<html>
<head>
	<script src='forest-widget.js'></script>
	<link rel="stylesheet" type="text/css" href="example.css">
</head>

<body>
	<h1>Forest Widget Example</h1>
	
	<div class="extra-bottom-space">
		<p>
			The div below contains two instances of Forest Widget.
		</p>
		
		<p>
			A Forest Widget is instantiated by passing FOREST_WIDGET_CREATOR.create() the ID of the element to contain it.
		</p>
		
		<p>
			In this case, "forest-widget-container1" is passed to the forest-widget via FOREST_WIDGET_CREATOR.create('forest-widget-container1'),
			and "forest-widget-container2" is passed via FOREST_WIDGET_CREATOR.create('forest-widget-container2', "150px", "300px").
		</p>
		
		<p>
			FOREST_WIDGET_CREATOR.create will return a FOREST_WIDGET object (in this example references are kept for the objects EXAMPLE_FOREST &amp; EXAMPLE_FOREST2).
		</p>
		
		<p>
			EXAMPLE_FOREST.createNode("label") can be used to create a new node.
		</p>
		
		<p>
			EXAMPLE_FOREST.addNode(node, parent) can be used to attach child nodes to parents. In the event a parent is omitted, the node becomes a root node with its parent set to null.
		</p>
		
		<p>
			EXAMPLE_FOREST.getUserSelectedNodes() will return a list of nodes that the user has manually selected.
		</p>
		
		<p>
			Forest Widgets like EXAMPLE_FOREST &amp; EXAMPLE_FOREST2 can be configured via the following CSS classes: div.widget-body, form.options-body, form.forest-container, div.node
		</p>
		
	</div>
	
	<div id="forest-widget-container1" style="display: inline-block; margin-right: 5px; width: 20%; height: 35%"></div>
	<div id="forest-widget-container2" style="display: inline-block;"></div>
	
	<script>
		//This code is invoked immediately AFTER the parent element has been created
		var EXAMPLE_FOREST = FOREST_WIDGET_CREATOR.create('forest-widget-container1'),
			EXAMPLE_FOREST2 = FOREST_WIDGET_CREATOR.create('forest-widget-container2', "200px", "250px"),
			parent,
			child,
			grandchild,
			i,
			j,
			k,
			childrenCount,
			grandchildrenCount;
		
		for(i = 0; i < 5; i++) {
			parent = EXAMPLE_FOREST.createNode("node-" + i);
			EXAMPLE_FOREST.addNodeByReference(parent);
			
			childrenCount = Math.floor(Math.random() * 5);
			
			for(j = 0; j < childrenCount; j++) {
				child = EXAMPLE_FOREST.createNode("node-" + i + "-" + j);
				EXAMPLE_FOREST.addNodeByReference(child, parent);
				
				grandchildrenCount = Math.floor(Math.random() * 3);
				
				for(k = 0; k < grandchildrenCount; k++) {
					grandchild = EXAMPLE_FOREST.createNode("node-" + i + "-" + j + "-" + k);
					EXAMPLE_FOREST.addNodeByReference(grandchild, child);
				}
			}
		}
		
		EXAMPLE_FOREST.addNode({id: 21, label: 'Disease Transmission Tree Estimators', parent: null});
		
		var earth = EXAMPLE_FOREST2.addNode({id: 1, label: 'Earth', parent: null}),
			americas = EXAMPLE_FOREST2.addNode({id: 12344556, label: 'Americas', parent: earth}),
			northAmerica = EXAMPLE_FOREST2.addNode({id: 90210, label: 'North America', parent: americas}),
			southAmerica = EXAMPLE_FOREST2.addNode({id: 01209, label: 'South America', parent: americas}),
			unitedStates = EXAMPLE_FOREST2.addNode({id: 1216, label: 'United States of America', parent: northAmerica}),
			canada = EXAMPLE_FOREST2.addNode({id: 411, label: 'Canada', parent: northAmerica}),
			mexico = EXAMPLE_FOREST2.addNode({id: 667, label: 'Mexico', parent: northAmerica}),
			pennsylvania = EXAMPLE_FOREST2.addNode({id: 1213, label: 'Pennsylvania', parent: unitedStates}),
			pittsburgh = EXAMPLE_FOREST2.addNode({id: 15213, label: 'Pittsburgh', parent: pennsylvania}),
			brazil = EXAMPLE_FOREST2.addNode({id: 7777, label: 'Brazil', parent: southAmerica});
		
	</script>
</body>
</html>
