<html>
<head>
	<script src='forest-widget.js'></script>
	
	<style>
		body {
			background-color: #f0f0f0;
		}
		
		h1 {
			text-align: center;
		}
		
		p {
			background-color: #ffffff;
			border-radius: 5px;
			padding: 3px;
			margin: 0px;
		}
		
		.extra-bottom-space {
			margin-bottom: 10px;
		}
		
		form {
			background-color: #ffffff;
			
			border-width: 1px;
			border-style: solid;
			border-radius: 5px;
			margin-bottom: 2px;
		}
		
		/* Forest Widget Classes */
		div.widget-body {
			border-radius: 5px;
			padding: 2px;
			display: inline-block;
			background-color: #c0c0a0;
			vertical-align: top;
		}
		
		form.tree-body {
			padding: 2px;
		}
		
		form.forest-body div.node{
			padding-left: 0px;
		}
		
		div.node {
			padding-right: 2px;
		}
		
		div.node div.node {
			padding-left: 15px;
		}
		
		form.options-body {
			padding: 2px;
			margin-bottom: 5px;
		}
	</style>
</head>

<body>
	<h1>Forest Widget Example</h1>
	
	<div class="extra-bottom-space">
		<p>
			The div below contains two instances of the Forest Widget.
		</p>
		
		<p>
			The Forest Widget is instantiated by passing FOREST_WIDGET_CREATOR.create() the ID of the element to contain it.
			In this case, "forest-widget-container1" is passed to the forest-widget via FOREST_WIDGET_CREATOR.create('forest-widget-container1'),
			and "forest-widget-container2" is passed via FOREST_WIDGET_CREATOR.create('forest-widget-container2', "150px", "300px").
		</p>
		
		<p>
			FOREST_WIDGET_CREATOR.create will return a FOREST_WIDGET object (in this example references are kept for the objects EXAMPLE_FOREST &amp; EXAMPLE_FOREST2).
		</p>
		
		<p>
			EXAMPLE_FOREST.createNode("label") can be used to create a new node.
		</p>
		
		<p>
			EXAMPLE_FOREST.addNode(node, parent) can be used to attach child nodes to parents. In the event a parent is omitted, the node becomes a root node with its parent set to null.
		</p>
		
		<p>
			EXAMPLE_FOREST.getUserSelectedNodes() will return a list of nodes that the user has manually selected.
		</p>
		
		<p>
			Forest Widgets like EXAMPLE_FOREST &amp; EXAMPLE_FOREST2 can be configured via the following CSS classes: div.widget-body, form.options-body, form.tree-body, div.node
		</p>
		
	</div>
	
	<div id="forest-widget-container1" style="display: inline-block; margin-right: 5px;"></div>
	<div id="forest-widget-container2" style="display: inline-block;"></div>
	
	<script>
		//This code is invoked immediately AFTER the parent element has been created
		var EXAMPLE_FOREST = FOREST_WIDGET_CREATOR.create('forest-widget-container1'),
			EXAMPLE_FOREST2 = FOREST_WIDGET_CREATOR.create('forest-widget-container2', "150px", "300px"),
			parent,
			child,
			grandchild,
			i,
			j,
			k,
			childrenCount,
			grandchildrenCount;
		
		for(i = 0; i < 5; i++) {
			parent = EXAMPLE_FOREST.createNode("node-" + i);
			EXAMPLE_FOREST.addNodeByReference(parent);
			
			childrenCount = Math.floor(Math.random() * 5);
			
			for(j = 0; j < childrenCount; j++) {
				child = EXAMPLE_FOREST.createNode("node-" + i + "-" + j);
				EXAMPLE_FOREST.addNodeByReference(child, parent);
				
				grandchildrenCount = Math.floor(Math.random() * 3);
				
				for(k = 0; k < grandchildrenCount; k++) {
					grandchild = EXAMPLE_FOREST.createNode("node-" + i + "-" + j + "-" + k);
					EXAMPLE_FOREST.addNodeByReference(grandchild, child);
				}
			}
		}
		
		var earth = EXAMPLE_FOREST2.addNode({id: 1, label: 'Earth', parent: null}),
			americas = EXAMPLE_FOREST2.addNode({id: 12344556, label: 'Americas', parent: earth}),
			northAmerica = EXAMPLE_FOREST2.addNode({id: 90210, label: 'North America', parent: americas}),
			southAmerica = EXAMPLE_FOREST2.addNode({id: 01209, label: 'South America', parent: americas}),
			unitedStates = EXAMPLE_FOREST2.addNode({id: 90210, label: 'United States of America', parent: northAmerica}),
			canada = EXAMPLE_FOREST2.addNode({id: 411, label: 'Canada', parent: northAmerica}),
			mexico = EXAMPLE_FOREST2.addNode({id: 667, label: 'Mexico', parent: northAmerica}),
			pennsylvania = unitedStates = EXAMPLE_FOREST2.addNode({id: 15213, label: 'Pennsylvania', parent: unitedStates}),
			brazil = EXAMPLE_FOREST2.addNode({id: 7777, label: 'Brazil', parent: southAmerica});
		
	</script>
</body>
</html>
